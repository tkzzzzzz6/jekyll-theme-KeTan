---
layout: home
title: Home
permalink: /
---

{% raw %}{% assign recent_limit = site.jekyll-theme-WuK.default.homepage.recent_limit | default: 6 %}
{% assign popular_categories = site.jekyll-theme-WuK.default.homepage.popular_categories | default: 5 %}{% endraw %}

<style>
/* ä¿ç•™åŸæœ‰æ ·å¼ï¼Œä½†ä¿®æ”¹é¢œè‰²å˜é‡ä¸ºåŠ¨æ€ç»§æ‰¿ */
:root {
    --bg-primary: rgba(13, 17, 23, 0.85);
    --bg-secondary: #161b22;
    --text-primary: #c9d1d9;
    --text-secondary: #8b949e;
    --accent-color: {% raw %}{{ site.jekyll-theme-WuK.default.accent_color | default: '#58a6ff' }}{% endraw %};
}

/* åŠ¨æ€æ–‡ç« å¡ç‰‡ */
.post-card { 
    background: rgba(22, 27, 34, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.2s;
    {% raw %}{% comment %}/* ä½¿ç”¨Jekyllå˜é‡åŠ¨æ€è®¾ç½®è¾¹æ¡†é¢œè‰²*/{% endcomment %}{% endraw %}
    border-left: 4px solid var(--accent-color);
}

/* è‡ªåŠ¨é€‚åº”æ–‡ç« æ•°é‡çš„ç½‘æ ¼å¸ƒå±€ */
.posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
}
</style>

<div class="content-wrapper">
    <!-- åŠ¨æ€ç»Ÿè®¡æ¨¡å— -->
    <div class="card stats-card">
        <div class="stats">
            <div class="stat-item">
                <div>ğŸ“š Total Posts</div>
                <div>{{ site.posts.size }}</div>
            </div>
            <div class="stat-item">
                <div>ğŸ·ï¸ Categories</div>
                <div>{{ site.categories.size }}</div>
            </div>
            <div class="stat-item">
                <div>ğŸ”– Tags</div>
                <div>{{ site.tags.size }}</div>
            </div>
        </div>
    </div>

    <!-- è‡ªåŠ¨ç”Ÿæˆçƒ­é—¨åˆ†ç±» -->
    <div class="card">
        <h3>ğŸ”¥ Popular Categories</h3>
        <div class="tags">
            {% raw %}{% assign categories = site.categories | sort: 'size' | reverse %}
            {% for category in categories limit: popular_categories %}{% endraw %}
            <a href="/categories/#{{ category[0] | slugify }}" class="tag">
                {{ category[0] }} ({{ category[1].size }})
            </a>
            {% raw %}{% endfor %}{% endraw %}
        </div>
    </div>

    <!-- åŠ¨æ€æ–‡ç« ç½‘æ ¼ -->
    <section class="recent-posts">
        <h2>ğŸ“š Latest Articles</h2>
        <div class="posts-grid">
            {% raw %}{% for post in site.posts limit: recent_limit %}{% endraw %}
            <article class="post-card">
                <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%b %d, %Y" }}</time>
                <h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
                <div class="post-meta">
                    {% if post.categories.size > 0 %}
                    <span class="categories">
                        ğŸ“ {{ post.categories | join: " Â· " }}
                    </span>
                    {% endif %}
                    {% if post.tags.size > 0 %}
                    <span class="tags">
                        ğŸ·ï¸ {{ post.tags | join: " Â· " }}
                    </span>
                    {% endif %}
                </div>
                {% if post.excerpt %}
                <p class="excerpt">{{ post.excerpt | strip_html | truncate: 120 }}</p>
                {% endif %}
            </article>
            {% raw %}{% endfor %}{% endraw %}
        </div>
    </section>

    <!-- è‡ªåŠ¨ç”Ÿæˆå¹´åº¦å½’æ¡£ -->
    <div class="card">
        <h3>ğŸ—“ï¸ Yearly Archive</h3>
        <div class="archive-list">
            {% assign postsByYear = site.posts | group_by_exp: "post", "post.date | date: '%Y'" %}
            {% for year in postsByYear %}
            <details>
                <summary>{{ year.name }} ({{ year.items.size }})</summary>
                <div class="year-posts">
                    {% for post in year.items %}
                    <a href="{{ post.url }}" class="post-link">{{ post.title }}</a>
                    {% endfor %}
                </div>
            </details>
            {% endfor %}
        </div>
    </div>
</div>

<script>
// åŠ¨æ€æœç´¢åŠŸèƒ½å¢å¼º
function searchPosts() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const cards = document.querySelectorAll('.post-card');
    
    cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        card.style.display = text.includes(searchTerm) ? 'block' : 'none';
    });
}

// è‡ªåŠ¨åŠ è½½æ›´å¤šå†…å®¹
let currentPage = 1;
window.addEventListener('scroll', () => {
    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 500) {
        loadMorePosts();
    }
});

async function loadMorePosts() {
    currentPage++;
    const response = await fetch(`/page${currentPage}/`);
    if (!response.ok) return;
    
    const html = await response.text();
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, 'text/html');
    document.querySelector('.posts-grid').appendChild(doc.querySelector('.posts-grid').innerHTML);
}
</script> 